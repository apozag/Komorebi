<RenderInfo>
	<m_renderPipelines>
		<RenderPipeline>
			<m_name>DEFERRED</m_name>
			<m_steps>
				<RenderStepType>
					<m_type>CLEAR</m_type>
					<m_outRtId>DEFAULT</m_outRtId>
				</RenderStepType>
				<RenderStepType>
					<m_type>CLEAR</m_type>
					<m_outRtId>GBUFFER</m_outRtId>
				</RenderStepType>
				<RenderStepType>
					<m_type>CLEAR</m_type>
					<m_outRtId>HDR</m_outRtId>
				</RenderStepType>
				<RenderStepType>
					<m_type>DEFAULT</m_type>
					<m_textureInputs/>
					<m_outRtId>GBUFFER</m_outRtId>
					<m_maxLayer>99</m_maxLayer>
				</RenderStepType>
				<RenderStepType>
					<m_type>SCREEN</m_type>
					<m_textureInputs>
						<TextureInfoType>
							<m_rtId>GBUFFER</m_rtId>
							<m_textureIdx>3</m_textureIdx>
						</TextureInfoType>
					</m_textureInputs>
					<m_outRtId>HDR</m_outRtId>
					<m_screenEffectMat>assets/materials/blitMat.xml</m_screenEffectMat>
				</RenderStepType>
				<RenderStepType>
					<m_type>SCREEN</m_type>
					<m_textureInputs>
						<TextureInfoType>
							<m_rtId>GBUFFER</m_rtId>
							<m_textureIdx>0</m_textureIdx>
						</TextureInfoType>
						<TextureInfoType>
							<m_rtId>GBUFFER</m_rtId>
							<m_textureIdx>1</m_textureIdx>
						</TextureInfoType>
						<TextureInfoType>
							<m_rtId>GBUFFER</m_rtId>
							<m_textureIdx>2</m_textureIdx>
						</TextureInfoType>
						<!-- <TextureInfoType>
							<m_rtId>GBUFFER</m_rtId>
							<m_textureIdx>3</m_textureIdx>
						</TextureInfoType> -->
						<TextureInfoType>
							<m_rtId>GBUFFER</m_rtId>
							<m_textureIdx>4</m_textureIdx>
						</TextureInfoType>
					</m_textureInputs>
					<m_resourceInputs>
						<resourceId>ENVMAP</resourceId>
					</m_resourceInputs>>
					<m_outRtId>HDR</m_outRtId>
					<m_screenEffectMat>assets/materials/composeAmbientMat.xml</m_screenEffectMat>
				</RenderStepType>
				<RenderStepType>
					<m_type>SCREEN</m_type>
					<m_textureInputs>
						<TextureInfoType>
							<m_rtId>GBUFFER</m_rtId>
							<m_textureIdx>0</m_textureIdx>
						</TextureInfoType>
						<TextureInfoType>
							<m_rtId>GBUFFER</m_rtId>
							<m_textureIdx>1</m_textureIdx>
						</TextureInfoType>
						<TextureInfoType>
							<m_rtId>GBUFFER</m_rtId>
							<m_textureIdx>2</m_textureIdx>
						</TextureInfoType>
						<TextureInfoType>
							<m_rtId>GBUFFER</m_rtId>
							<m_textureIdx>3</m_textureIdx>
						</TextureInfoType>
						<TextureInfoType>
							<m_rtId>GBUFFER</m_rtId>
							<m_textureIdx>4</m_textureIdx>
						</TextureInfoType>
					</m_textureInputs>					
					<m_outRtId>HDR</m_outRtId>
					<m_repeatFor>DIRLIGHT</m_repeatFor>
					<m_screenEffectMat>assets/materials/composeDirlightMat.xml</m_screenEffectMat>
				</RenderStepType>
				<RenderStepType>
					<m_type>SCREEN</m_type>
					<m_textureInputs>
						<TextureInfoType>
							<m_rtId>HDR</m_rtId>
							<m_textureIdx>0</m_textureIdx>
						</TextureInfoType>
					</m_textureInputs>
					<m_outRtId>DEFAULT</m_outRtId>
					<m_repeatFor>ONCE</m_repeatFor>
					<m_screenEffectMat>assets/materials/tonemappingMat.xml</m_screenEffectMat>
				</RenderStepType>
			</m_steps>
		</RenderPipeline>	
	</m_renderPipelines>
	<m_globalRTs>
		<RTNamePairType>
			<m_name>HDR</m_name>
			<m_rt>
				<m_count>1</m_count>
				<m_width>-1</m_width>
				<m_height>-1</m_height>
				<m_format>DXGI_FORMAT_R32G32B32A32_FLOAT</m_format>
				<m_slot>0</m_slot>
			</m_rt>
		</RTNamePairType>
		<RTNamePairType>
			<m_name>GBUFFER</m_name>
			<m_rt>
				<m_count>5</m_count>
				<m_width>-1</m_width>
				<m_height>-1</m_height>
				<m_format>DXGI_FORMAT_R32G32B32A32_FLOAT</m_format>
				<m_slot>7</m_slot>
			</m_rt>
		</RTNamePairType>
	</m_globalRTs>
	<m_globalResources>
		<RTNamePairType>
			<m_name>ENVMAP</m_name>
			<m_resource Type="HDRCubeTexture">
				<m_filename>assets\images\hdri\pine_attic_4k.png</m_filename>
				<m_slot>12</m_slot>
				<m_size>258</m_size>
			</m_resource>
		</RTNamePairType>
	</m_globalResources>
</RenderInfo>


